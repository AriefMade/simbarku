exports.id=999,exports.ids=[999],exports.modules={62849:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=62849,e.exports=t},10856:(e,t,s)=>{Promise.resolve().then(s.bind(s,73525))},30989:(e,t,s)=>{Promise.resolve().then(s.bind(s,5380))},15440:(e,t,s)=>{Promise.resolve().then(s.bind(s,61960))},86128:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,63642,23)),Promise.resolve().then(s.t.bind(s,87586,23)),Promise.resolve().then(s.t.bind(s,47838,23)),Promise.resolve().then(s.t.bind(s,58057,23)),Promise.resolve().then(s.t.bind(s,77741,23)),Promise.resolve().then(s.t.bind(s,13118,23))},67583:()=>{},73525:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(97247);function a({error:e,reset:t}){return r.jsx("main",{className:"p-4 md:p-6",children:(0,r.jsxs)("div",{className:"mb-8 space-y-4",children:[r.jsx("h1",{className:"font-semibold text-lg md:text-2xl",children:"lom jalan jir"}),r.jsx("p",{children:"Bak cek bagian koneksi ke database atau apalah bejir"}),r.jsx("pre",{className:"my-4 px-3 py-4 bg-black text-white rounded-lg max-w-2xl overflow-scroll flex text-wrap",children:r.jsx("code",{children:`CREATE TABLE users (
              id SERIAL PRIMARY KEY,
              email VARCHAR(255) NOT NULL,
              name VARCHAR(255),
              username VARCHAR(255)
            );`})}),r.jsx("p",{children:"Insert a row for testing:"}),r.jsx("pre",{className:"my-4 px-3 py-4 bg-black text-white rounded-lg max-w-2xl overflow-scroll flex text-wrap",children:r.jsx("code",{children:"INSERT INTO users (id, email, name, username) VALUES (1, 'me@site.com', 'Me', 'username');"})})]})})}s(28964)},5380:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E});var r=s(97247),a=s(28964),n=s(79906),i=s(34178),l=s(6683),o=s(56460),d=s(91044),c=s(54636),m=s(650),u=s(37013),f=s(85450),x=s(19432),h=s(44597),p=s(27604),g=s(91953),y=s(42429);let{handlers:b,auth:N,signIn:w,signOut:j}=(0,g.ZP)({providers:[(0,y.Z)({name:"Credentials",credentials:{username:{label:"Username",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.username||!e?.password)return null;try{let t=await fetch(`${process.env.NEXTAUTH_URL}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})}),s=await t.json();if(s.success&&s.user)return{id:s.user.id,name:s.user.name,email:s.user.email,image:"/placeholder-user.jpg"};return null}catch(e){return console.error("Auth error:",e),null}}})],secret:process.env.AUTH_SECRET,pages:{signIn:"/login",signOut:"/",error:"/login"},session:{strategy:"jwt",maxAge:2592e3},callbacks:{session:async({session:e,token:t})=>(t.sub&&(e.user.id=t.sub),e),jwt:async({token:e,user:t})=>(t&&(e.id=t.id),e)}});function v(){return r.jsx("button",{onClick:async()=>{await j({redirectTo:"/"})},className:"w-full text-left",children:"Sign Out"})}function k(){let[e,t]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0);return s?r.jsx(x.z,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:r.jsx("div",{className:"w-9 h-9 bg-gray-200 rounded-full animate-pulse"})}):(0,r.jsxs)(p.h_,{children:[r.jsx(p.$F,{asChild:!0,children:r.jsx(x.z,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:r.jsx(h.default,{src:e?.image??"/placeholder-user.jpg",width:36,height:36,alt:"Avatar",className:"overflow-hidden rounded-full"})})}),(0,r.jsxs)(p.AW,{align:"end",children:[r.jsx(p.Ju,{children:e?.name||"My Account"}),r.jsx(p.VD,{}),r.jsx(p.Xi,{children:r.jsx(n.default,{href:"/admin/settings",className:"w-full",children:"Settings"})}),r.jsx(p.Xi,{children:r.jsx(n.default,{href:"/admin/profile",className:"w-full",children:"Profile"})}),r.jsx(p.VD,{}),e?r.jsx(p.Xi,{children:r.jsx(v,{})}):r.jsx(p.Xi,{children:r.jsx(n.default,{href:"/login",className:"w-full",children:"Sign In"})})]})]})}var A=s(25008);let _=a.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:(0,A.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));function S(){return r.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}_.displayName="Input";var R=s(49256);function T(){let e=(0,i.useRouter)(),[t,s]=(0,a.useTransition)();return(0,r.jsxs)("form",{action:function(t){let r=new URLSearchParams({q:t.get("q")});s(()=>{e.replace(`/?${r.toString()}`)})},className:"relative ml-auto flex-1 md:grow-0",children:[r.jsx(R.Z,{className:"absolute left-2.5 top-[.75rem] h-4 w-4 text-muted-foreground"}),r.jsx(_,{name:"q",type:"search",placeholder:"Search...",className:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-[336px]"}),t&&r.jsx(S,{})]})}s(47393);var P=s(20941);let U=P.zt;function z({children:e}){return r.jsx(U,{children:e})}function E({children:e}){let t=(0,i.usePathname)();return r.jsx(z,{children:(0,r.jsxs)("div",{className:"admin-layout min-h-screen flex flex-col",children:[r.jsx("header",{className:"sticky top-0 z-30 bg-white border-b shadow-sm",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 md:px-6",children:[r.jsx("div",{className:"flex",children:r.jsx(n.default,{href:"/admin",className:"mr-6 flex items-center",children:r.jsx("span",{className:"text-lg font-bold",children:"Admin Simbarku.co"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"md:hidden p-2 rounded-md hover:bg-gray-100",children:r.jsx(l.Z,{className:"h-5 w-5"})}),r.jsx(a.Suspense,{fallback:r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200"}),children:r.jsx(k,{})})]})]})}),(0,r.jsxs)("div",{className:"flex flex-1",children:[r.jsx("aside",{className:"hidden md:block w-64 bg-white border-r shadow-sm",children:r.jsx("div",{className:"fixed h-[calc(100vh-4rem)] w-64 pt-6 px-4 overflow-y-auto",children:(0,r.jsxs)("nav",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"pb-4",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Dashboard"}),r.jsx("div",{className:"space-y-1",children:(0,r.jsxs)(n.default,{href:"/admin/analytics",className:`flex items-center px-3 py-2 text-sm rounded-md ${"/admin/analytics"===t?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-100"}`,children:[r.jsx(o.Z,{className:`h-5 w-5 mr-3 ${"/admin/analytics"===t?"text-gray-700":"text-gray-500"}`}),"Dashboard"]})})]}),(0,r.jsxs)("div",{className:"pb-4",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Products"}),r.jsx("div",{className:"space-y-1",children:(0,r.jsxs)(n.default,{href:"/admin",className:`flex items-center px-3 py-2 text-sm rounded-md ${"/admin"!==t||t.includes("/admin/orders")?"hover:bg-gray-100":"bg-gray-100 text-gray-900 font-medium"}`,children:[r.jsx(d.Z,{className:`h-5 w-5 mr-3 ${"/admin"!==t||t.includes("/admin/orders")?"text-gray-500":"text-gray-700"}`}),"All Products"]})})]}),(0,r.jsxs)("div",{className:"pb-4",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Orders"}),r.jsx("div",{className:"space-y-1",children:(0,r.jsxs)(n.default,{href:"/admin/orders",className:`flex items-center px-3 py-2 text-sm rounded-md ${t.includes("/admin/orders")?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-100"}`,children:[r.jsx(c.Z,{className:`h-5 w-5 mr-3 ${t.includes("/admin/orders")?"text-gray-700":"text-gray-500"}`}),"All Orders"]})})]}),(0,r.jsxs)("div",{className:"pb-4",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Customers"}),r.jsx("div",{className:"space-y-1",children:(0,r.jsxs)(n.default,{href:"/admin/customers",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[r.jsx(m.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"All Customers"]})})]})]})})}),(0,r.jsxs)("aside",{className:"fixed inset-y-0 left-0 z-40 w-64 bg-white border-r transform -translate-x-full transition-transform duration-200 ease-in-out md:hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("span",{className:"text-lg font-bold",children:"Menu"}),r.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100",children:r.jsx(u.Z,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 overflow-y-auto",children:(0,r.jsxs)("nav",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Dashboard"}),(0,r.jsxs)(n.default,{href:"/admin/analytics",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[r.jsx(o.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"Dashboard"]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Products"}),(0,r.jsxs)(n.default,{href:"/admin",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[r.jsx(d.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"All Products"]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Orders"}),(0,r.jsxs)(n.default,{href:"/admin/orders",className:`flex items-center px-3 py-2 text-sm rounded-md ${t.includes("/admin/orders")?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-100"}`,children:[r.jsx(c.Z,{className:`h-5 w-5 mr-3 ${t.includes("/admin/orders")?"text-gray-700":"text-gray-500"}`}),"All Orders"]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Customers"}),(0,r.jsxs)(n.default,{href:"/admin/customers",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[r.jsx(m.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"All Customers"]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Analytics"}),(0,r.jsxs)(n.default,{href:"/admin/analytics",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[r.jsx(f.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"Overview"]})]})]})})]}),r.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:(0,r.jsxs)("div",{className:"container max-w-screen-xl mx-auto p-6 space-y-6",children:[r.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(T,{})})}),e]})})]})]})})}P.fC,P.xz,a.forwardRef(({className:e,sideOffset:t=4,...s},a)=>r.jsx(P.VY,{ref:a,sideOffset:t,className:(0,A.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=P.VY.displayName},19432:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var r=s(97247),a=s(28964),n=s(69008),i=s(87972),l=s(25008);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...i},d)=>{let c=a?n.g7:"button";return r.jsx(c,{className:(0,l.cn)(o({variant:t,size:s,className:e})),ref:d,...i})});d.displayName="Button"},27604:(e,t,s)=>{"use strict";s.d(t,{$F:()=>m,AW:()=>u,Ju:()=>x,VD:()=>h,Xi:()=>f,h_:()=>c});var r=s(97247),a=s(28964),n=s(22238),i=s(67636),l=s(48799),o=s(44161),d=s(25008);let c=n.fC,m=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,a.forwardRef(({className:e,inset:t,children:s,...a},l)=>(0,r.jsxs)(n.fF,{ref:l,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...a,children:[s,r.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=n.fF.displayName,a.forwardRef(({className:e,...t},s)=>r.jsx(n.tu,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=n.tu.displayName;let u=a.forwardRef(({className:e,sideOffset:t=4,...s},a)=>r.jsx(n.Uv,{children:r.jsx(n.VY,{ref:a,sideOffset:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));u.displayName=n.VY.displayName;let f=a.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(n.ck,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));f.displayName=n.ck.displayName,a.forwardRef(({className:e,children:t,checked:s,...a},i)=>(0,r.jsxs)(n.oC,{ref:i,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.wU,{children:r.jsx(l.Z,{className:"h-4 w-4"})})}),t]})).displayName=n.oC.displayName,a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(n.Rk,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.wU,{children:r.jsx(o.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=n.Rk.displayName;let x=a.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(n.__,{ref:a,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));x.displayName=n.__.displayName;let h=a.forwardRef(({className:e,...t},s)=>r.jsx(n.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));h.displayName=n.Z0.displayName},25008:(e,t,s)=>{"use strict";s.d(t,{T:()=>i,cn:()=>n});var r=s(61929),a=s(35770);function n(...e){return(0,a.m6)((0,r.W)(e))}function i(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}},14211:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`D:\Aplikasi\simbarku\app\admin\(dashboard)\error.tsx#default`)},7951:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`D:\Aplikasi\simbarku\app\admin\(dashboard)\layout.tsx#default`)},70893:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,dynamic:()=>l,metadata:()=>i});var r=s(72051);s(11115);var a=s(89171),n=s(1035);let i={title:"Admin Simbarku",description:"Admin dashboard for managing Simbarku application, including orders, products, and user management."},l="force-dynamic";async function o({children:e}){try{await (0,n.qZ)()}catch(e){console.error("Failed to initialize database connection:",e)}return(0,r.jsxs)("html",{lang:"en",children:[r.jsx("body",{className:"flex min-h-screen w-full flex-col",children:e}),r.jsx(a.c,{})]})}},54403:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,dynamic:()=>i,metadata:()=>n});var r=s(72051);s(7633);var a=s(26269);let n={title:"Simbarku.co",description:"Tempat jual beli simbar online"},i="force-dynamic";function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(a.Suspense,{fallback:null,children:e})})})}},1035:(e,t,s)=>{"use strict";s.d(t,{AW:()=>E,B3:()=>z,FO:()=>O,IH:()=>D,Pz:()=>R,Rf:()=>S,Xp:()=>A,ZU:()=>U,_z:()=>P,kY:()=>_,qZ:()=>T});var r=s(87615),a=s(91141),n=s(56042),i=s(53283),l=s(57713),o=s(87420),d=s(31318),c=s(90273),m=s(41054),u=s(52792),f=s(18653),x=s(29785),h=s(9850),p=s(95013),g=s(98446),y=s(5183);let b=r.createPool({host:process.env.MYSQL_HOST||"localhost",port:Number(process.env.MYSQL_PORT)||3306,user:process.env.MYSQL_USER||"root",password:process.env.MYSQL_PASSWORD||"",database:process.env.MYSQL_DATABASE||"simbarku"}),N=(0,a.tS)(b),w=(0,n.iq)("products",{id:(0,i.e$)("id").primaryKey().autoincrement(),imageUrl:(0,l.fL)("image_url").notNull(),name:(0,l.fL)("name").notNull(),status:(0,o.MI)("status",["active","inactive","archived"]).notNull(),price:(0,d.gH)("price",{precision:10,scale:2}).notNull(),stock:(0,i.e$)("stock").notNull(),availableAt:(0,c.AB)("available_at").notNull()}),j=(0,n.iq)("admin",{id_user:(0,i.e$)("id_user").primaryKey().autoincrement(),username:(0,m.L7)("username",{length:20}).notNull(),password:(0,m.L7)("password",{length:15}).notNull()});(0,n.iq)("forum",{idPesan:(0,i.e$)("id_pesan").primaryKey().autoincrement(),isiPesan:(0,l.fL)("isi_pesan").notNull(),gambarSimbarUser:(0,u.Ec)("gambar_simbar_user"),kategori:(0,m.L7)("kategori",{length:255}).notNull()}),(0,n.iq)("testimoni",{idTestimoni:(0,i.e$)("id_testimoni").primaryKey().autoincrement(),nama:(0,l.fL)("nama").notNull(),deskripsi:(0,l.fL)("deskripsi").notNull(),rating:(0,i.e$)("rating").notNull()});let v=(0,n.iq)("transaksi",{id_transaksi:(0,i.e$)("id_transaksi").primaryKey().autoincrement(),id_user:(0,i.e$)("id_user").notNull().references(()=>k.idUser),harga:(0,i.e$)("harga").notNull(),tanggal:(0,f.hT)("tanggal").notNull(),status:(0,o.MI)("status",["completed","pending","canceled"]).notNull().default("pending")}),k=(0,n.iq)("user",{idUser:(0,i.e$)("id_user").primaryKey().autoincrement(),nama:(0,m.L7)("nama",{length:30}).notNull(),no_telp:(0,i.e$)("no_telp").notNull(),alamat:(0,l.fL)("alamat").notNull(),email:(0,l.fL)("email").notNull()});async function A(e,t=0){try{if(e){let s=await N.select().from(w).where((0,x.vL)(w.name,`%${e}%`)).limit(1e3);return{products:s,newOffset:t,totalProducts:s.length}}let s=await N.select({count:(0,h.QX)()}).from(w),r=Number(s[0].count),a=await N.select().from(w).limit(5).offset(t);return a.length,{products:a,newOffset:t,totalProducts:r}}catch(e){return console.error("Error fetching products:",e),{products:[],newOffset:0,totalProducts:0}}}async function _(e){try{let t=await N.select().from(j).where((0,x.eq)(j.username,e)).limit(1);return t.length>0?t[0]:null}catch(e){return console.error("Error fetching admin:",e),null}}async function S(e=0){try{let t=await N.select({count:(0,h.QX)()}).from(k);return{users:await N.select().from(k).limit(10).offset(e),totalUsers:Number(t[0].count)}}catch(e){return console.error("Error fetching users:",e),{users:[],totalUsers:0}}}async function R(e=0){try{let t=await N.select({count:(0,h.QX)()}).from(v);return{transactions:(await N.select({id_transaksi:v.id_transaksi,id_user:v.id_user,harga:v.harga,tanggal:v.tanggal,status:v.status,userName:k.nama}).from(v).leftJoin(k,(0,x.eq)(v.id_user,k.idUser)).limit(10).offset(e).orderBy((0,p.C)(v.tanggal))).map(e=>({...e,userName:e.userName||"Pengguna Tidak Dikenal"})),totalTransactions:Number(t[0].count)}}catch(e){return console.error("Error fetching transactions with user data:",e),{transactions:[],totalTransactions:0}}}async function T(){try{return await N.select().from(w).limit(1),console.log("Database connection successful"),{success:!0}}catch(e){return console.error("Database initialization error:",e),{success:!1,error:e}}}async function P(e,t){try{return await N.update(j).set({password:t}).where((0,x.eq)(j.id_user,e)),!0}catch(e){throw console.error("Error updating admin password:",e),e}}async function U(){try{let e=await N.select({month:(0,g.i6)`DATE_FORMAT(tanggal, '%Y-%m')`,total:(0,g.i6)`COUNT(id_transaksi)`,revenue:(0,g.i6)`SUM(harga)`}).from(v).groupBy((0,g.i6)`DATE_FORMAT(tanggal, '%Y-%m')`).orderBy((0,g.i6)`DATE_FORMAT(tanggal, '%Y-%m')`).limit(12),t=await N.select({status:v.status,count:(0,h.QX)(),revenue:(0,g.i6)`SUM(harga)`}).from(v).groupBy(v.status),s=await N.select({id_user:v.id_user,totalPurchases:(0,h.QX)(),totalSpent:(0,g.i6)`SUM(harga)`}).from(v).where((0,x.eq)(v.status,"completed")).groupBy(v.id_user).orderBy((0,p.C)((0,g.i6)`SUM(harga)`)).limit(5);return{monthlyTransactions:e,transactionsByStatus:t,topCustomers:s}}catch(e){return console.error("Error fetching transaction analytics:",e),{monthlyTransactions:[],transactionsByStatus:[],topCustomers:[]}}}async function z(e){try{if(0===e.length)return[];return await N.select().from(k).where((0,x.d3)(k.idUser,e))}catch(e){return console.error("Error fetching users by IDs:",e),[]}}async function E(e=0,t=10){try{let s=await N.select().from(k).limit(t).offset(e),r=await N.select({count:(0,h.QX)()}).from(k);return{users:s,totalUsers:r[0].count}}catch(e){return console.error("Error fetching users:",e),{users:[],totalUsers:0}}}async function D(e){try{return await N.select().from(v).where((0,x.eq)(v.id_user,e))}catch(t){return console.error(`Error fetching transactions for user ${e}:`,t),[]}}async function O(e){try{let t=await N.select().from(k).where((0,x.eq)(k.idUser,e)).limit(1);return t.length>0?t[0]:null}catch(t){return console.error(`Error fetching user ${e}:`,t),null}}(0,y.fC)(w)},37170:(e,t,s)=>{"use strict";s.d(t,{T:()=>i,cn:()=>n});var r=s(36272),a=s(51472);function n(...e){return(0,a.m6)((0,r.W)(e))}function i(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}},57481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(54564);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},85080:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(54564);let a=e=>[{type:"image/x-icon",sizes:"32x29",url:(0,r.fillMetadataSegment)(".",e.params,"icon.ico")+"?9ca28da75d4503b7"}]},11115:()=>{},47393:()=>{},7633:()=>{}};