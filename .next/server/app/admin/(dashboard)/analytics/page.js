(()=>{var e={};e.id=442,e.ids=[442],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},98216:e=>{"use strict";e.exports=require("net")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},95346:e=>{"use strict";e.exports=require("timers")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},47261:e=>{"use strict";e.exports=require("node:util")},23979:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),s(65621),s(7951),s(14211),s(70893),s(54403),s(90996);var r=s(30170),t=s(45002),n=s(83876),l=s.n(n),i=s(66299),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(a,d);let o=["",{children:["admin",{children:["(dashboard)",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,65621)),"D:\\Aplikasi\\simbarku\\app\\admin\\(dashboard)\\analytics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7951)),"D:\\Aplikasi\\simbarku\\app\\admin\\(dashboard)\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,14211)),"D:\\Aplikasi\\simbarku\\app\\admin\\(dashboard)\\error.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,70893)),"D:\\Aplikasi\\simbarku\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e),async e=>(await Promise.resolve().then(s.bind(s,85080))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,54403)),"D:\\Aplikasi\\simbarku\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e),async e=>(await Promise.resolve().then(s.bind(s,85080))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\Aplikasi\\simbarku\\app\\admin\\(dashboard)\\analytics\\page.tsx"],u="/admin/(dashboard)/analytics/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/admin/(dashboard)/analytics/page",pathname:"/admin/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},49794:(e,a,s)=>{Promise.resolve().then(s.bind(s,49352))},49352:(e,a,s)=>{"use strict";s.d(a,{AnalisaDashboard:()=>m});var r=s(97247),t=s(28964),n=s(24025),l=s(25008),i=s(27692),d=s.n(i);let o=d()(async()=>{},{loadableGenerated:{modules:["app\\admin\\(dashboard)\\analytics\\analyticsDashboard.tsx -> ./chartComponents/barChart"]},ssr:!1}),c=d()(async()=>{},{loadableGenerated:{modules:["app\\admin\\(dashboard)\\analytics\\analyticsDashboard.tsx -> ./chartComponents/lineChart"]},ssr:!1}),u=d()(async()=>{},{loadableGenerated:{modules:["app\\admin\\(dashboard)\\analytics\\analyticsDashboard.tsx -> ./chartComponents/donatChart"]},ssr:!1});function m({monthlyData:e,statusCounts:a,topCustomers:s}){let[i,d]=(0,t.useState)(!1),m={labels:e.map(e=>{let[a,s]=String(e.month).split("-");return a&&s?new Date(parseInt(a),parseInt(s)-1).toLocaleString("id-ID",{month:"short",year:"numeric"}):String(e.month)}),datasets:[{label:"Pendapatan",data:e.map(e=>e.revenue),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgb(75, 192, 192)",borderWidth:1}]},p={labels:e.map(e=>{let[a,s]=String(e.month).split("-");return a&&s?new Date(parseInt(a),parseInt(s)-1).toLocaleString("id-ID",{month:"short",year:"numeric"}):String(e.month)}),datasets:[{label:"Jumlah Transaksi",data:e.map(e=>e.sales),fill:!1,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.3}]},x={labels:["Selesai","Diproses","Dibatalkan"],datasets:[{data:[a.completed,a.pending,a.canceled],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]};return i?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Pendapatan Bulanan"}),r.jsx(n.SZ,{children:"Pendapatan bulanan dalam setahun terakhir"})]}),r.jsx(n.aY,{children:r.jsx("div",{className:"h-80",children:r.jsx(o,{data:m})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Jumlah Transaksi Bulanan"}),r.jsx(n.SZ,{children:"Tren jumlah transaksi per bulan"})]}),r.jsx(n.aY,{children:r.jsx("div",{className:"h-80",children:r.jsx(c,{data:p})})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Distribusi Status Transaksi"}),r.jsx(n.SZ,{children:"Persentase transaksi berdasarkan status"})]}),r.jsx(n.aY,{className:"flex justify-center",children:r.jsx("div",{className:"h-80 w-80",children:r.jsx(u,{data:x})})})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Pelanggan Terbaik"}),r.jsx(n.SZ,{children:"Pelanggan dengan nilai transaksi tertinggi"})]}),r.jsx(n.aY,{children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-left",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b",children:[r.jsx("th",{className:"py-3 px-4 font-medium",children:"Nama"}),r.jsx("th",{className:"py-3 px-4 font-medium",children:"Jumlah Transaksi"}),r.jsx("th",{className:"py-3 px-4 font-medium text-right",children:"Total Belanja"})]})}),r.jsx("tbody",{children:0===s.length?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"py-4 px-4 text-center text-gray-500",children:"Belum ada data pelanggan"})}):s.map((e,a)=>(0,r.jsxs)("tr",{className:a<s.length-1?"border-b":"",children:[r.jsx("td",{className:"py-3 px-4",children:e.name}),r.jsx("td",{className:"py-3 px-4",children:e.totalPurchases}),r.jsx("td",{className:"py-3 px-4 text-right",children:(0,l.T)(Number(e.totalSpent))})]},a))})]})})})]})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"h-80 bg-gray-100 rounded-md animate-pulse"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"h-80 bg-gray-100 rounded-md animate-pulse"}),r.jsx("div",{className:"h-80 bg-gray-100 rounded-md animate-pulse"})]}),r.jsx("div",{className:"h-60 bg-gray-100 rounded-md animate-pulse"})]})}},24025:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>i,SZ:()=>o,Zb:()=>l,aY:()=>c,eW:()=>u,ll:()=>d});var r=s(97247),t=s(28964),n=s(25008);let l=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));l.displayName="Card";let i=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let d=t.forwardRef(({className:e,...a},s)=>r.jsx("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=t.forwardRef(({className:e,...a},s)=>r.jsx("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let u=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...a}));u.displayName="CardFooter"},27692:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return n}});let r=s(42861);s(97247),s(28964);let t=r._(s(22404));function n(e,a){var s;let r={loading:e=>{let{error:a,isLoading:s,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let n={...r,...a};return(0,t.default)({...n,modules:null==(s=n.loadableGenerated)?void 0:s.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},99304:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return t}});let r=s(47173);function t(e){let{reason:a,children:s}=e;throw new r.BailoutToCSRError(a)}},22404:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return o}});let r=s(97247),t=s(28964),n=s(99304),l=s(24146);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let a={...d,...e},s=(0,t.lazy)(()=>a.loader().then(i)),o=a.loading;function c(e){let i=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=a.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.PreloadCss,{moduleIds:a.modules}),(0,r.jsx)(s,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(t.Suspense,{fallback:i,children:d})}return c.displayName="LoadableComponent",c}},24146:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadCss",{enumerable:!0,get:function(){return n}});let r=s(97247),t=s(54580);function n(e){let{moduleIds:a}=e,s=(0,t.getExpectedRequestStore)("next/dynamic css"),n=[];if(s.reactLoadableManifest&&a){let e=s.reactLoadableManifest;for(let s of a){if(!e[s])continue;let a=e[s].files.filter(e=>e.endsWith(".css"));n.push(...a)}}return 0===n.length?null:(0,r.jsx)(r.Fragment,{children:n.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},65621:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var r=s(72051),t=s(34558),n=s(1035),l=s(37170);let i=(0,s(45347).createProxy)(String.raw`D:\Aplikasi\simbarku\app\admin\(dashboard)\analytics\analyticsDashboard.tsx#AnalisaDashboard`);async function d(){let{monthlyTransactions:e,transactionsByStatus:a,topCustomers:s}=await (0,n.ZU)(),d=s.map(e=>e.id_user),o=await (0,n.B3)(d),c=a.reduce((e,a)=>e+Number(a.revenue),0),u=a.reduce((e,a)=>e+Number(a.count),0),m={completed:a.find(e=>"completed"===e.status)?.count||0,pending:a.find(e=>"pending"===e.status)?.count||0,canceled:a.find(e=>"canceled"===e.status)?.count||0},p=e.map(e=>({month:String(e.month),sales:Number(e.total),revenue:Number(e.revenue)})),x=s.map(e=>{let a=o.find(a=>a.idUser===e.id_user);return{...e,name:a?.nama||`User ID: ${e.id_user}`,totalSpent:Number(e.totalSpent)}});return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Analisis Penjualan dan Transaksi"}),r.jsx("p",{className:"text-muted-foreground",children:"Pantau performa bisnis Anda dengan data analitik penjualan dan transaksi."}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(t.Zb,{children:[(0,r.jsxs)(t.Ol,{className:"pb-2",children:[r.jsx(t.ll,{className:"text-sm font-medium",children:"Total Pendapatan"}),r.jsx(t.SZ,{children:"Total pendapatan dari semua transaksi"})]}),r.jsx(t.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:(0,l.T)(c)})})]}),(0,r.jsxs)(t.Zb,{children:[(0,r.jsxs)(t.Ol,{className:"pb-2",children:[r.jsx(t.ll,{className:"text-sm font-medium",children:"Total Transaksi"}),r.jsx(t.SZ,{children:"Jumlah seluruh transaksi"})]}),r.jsx(t.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:u})})]}),(0,r.jsxs)(t.Zb,{children:[(0,r.jsxs)(t.Ol,{className:"pb-2",children:[r.jsx(t.ll,{className:"text-sm font-medium",children:"Transaksi Selesai"}),r.jsx(t.SZ,{children:"Jumlah transaksi dengan status selesai"})]}),r.jsx(t.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:m.completed})})]}),(0,r.jsxs)(t.Zb,{children:[(0,r.jsxs)(t.Ol,{className:"pb-2",children:[r.jsx(t.ll,{className:"text-sm font-medium",children:"Rata-rata Transaksi"}),r.jsx(t.SZ,{children:"Nilai rata-rata per transaksi"})]}),r.jsx(t.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:(0,l.T)(u?c/u:0)})})]})]}),r.jsx(i,{monthlyData:p,statusCounts:m,topCustomers:x})]})}},34558:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>i,SZ:()=>o,Zb:()=>l,aY:()=>c,eW:()=>u,ll:()=>d});var r=s(72051),t=s(26269),n=s(37170);let l=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));l.displayName="Card";let i=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let d=t.forwardRef(({className:e,...a},s)=>r.jsx("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=t.forwardRef(({className:e,...a},s)=>r.jsx("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let u=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...a}));u.displayName="CardFooter"}};var a=require("../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[379,39,564,61,131,905,181,158,999],()=>s(23979));module.exports=r})();