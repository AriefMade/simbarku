(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{6175:function(e,s,r){Promise.resolve().then(r.bind(r,104))},104:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return u}});var a=r(7437),n=r(2265),t=r(9376);function u(){(0,t.useRouter)();let[e,s]=(0,n.useState)(""),[r,u]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),[d,l]=(0,n.useState)(""),[c,m]=(0,n.useState)(!1),b=async a=>{if(a.preventDefault(),r!==o){l("Password baru dan konfirmasi tidak cocok");return}if(r.length<8){l("Password harus minimal 8 karakter");return}m(!0),l("");try{let a=await fetch("/api/admin/update-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:e,newPassword:r})}),n=await a.json();n.success?(l("Password berhasil diperbarui"),s(""),u(""),i("")):l(n.message||"Gagal memperbarui password")}catch(e){l("Terjadi kesalahan saat memperbarui password"),console.error(e)}finally{m(!1)}};return(0,a.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Ubah Password"}),d&&(0,a.jsx)("div",{className:"p-4 mb-4 rounded-md ".concat(d.includes("berhasil")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:d}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password Saat Ini"}),(0,a.jsx)("input",{type:"password",value:e,onChange:e=>s(e.target.value),required:!0,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password Baru"}),(0,a.jsx)("input",{type:"password",value:r,onChange:e=>u(e.target.value),required:!0,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Konfirmasi Password Baru"}),(0,a.jsx)("input",{type:"password",value:o,onChange:e=>i(e.target.value),required:!0,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50",children:c?"Memproses...":"Perbarui Password"})})]})]})}},9376:function(e,s,r){"use strict";var a=r(5475);r.o(a,"redirect")&&r.d(s,{redirect:function(){return a.redirect}}),r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6175)}),_N_E=e.O()}]);