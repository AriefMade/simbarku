(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{5170:function(e,s,t){Promise.resolve().then(t.bind(t,9722))},9722:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return P}});var a=t(7437),r=t(2265),n=t(7648),i=t(9376),d=t(3566),l=t(4938),o=t(4794),c=t(6275),m=t(9724),u=t(2489),f=t(2007),x=t(1222),h=t(3145),p=t(1240),g=t(6711),y=t(7167),b=t(257);let{handlers:j,auth:N,signIn:v,signOut:w}=(0,g.ZP)({providers:[(0,y.Z)({name:"Credentials",credentials:{username:{label:"Username",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){if(!(null==e?void 0:e.username)||!(null==e?void 0:e.password))return null;try{let s=await fetch("".concat(b.env.NEXTAUTH_URL,"/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})}),t=await s.json();if(t.success&&t.user)return{id:t.user.id,name:t.user.name,email:t.user.email,image:"/placeholder-user.jpg"};return null}catch(e){return console.error("Auth error:",e),null}}})],secret:b.env.AUTH_SECRET,pages:{signIn:"/login",signOut:"/",error:"/login"},session:{strategy:"jwt",maxAge:2592e3},callbacks:{async session(e){let{session:s,token:t}=e;return t.sub&&(s.user.id=t.sub),s},async jwt(e){let{token:s,user:t}=e;return t&&(s.id=t.id),s}}});function k(){return(0,a.jsx)("button",{onClick:async()=>{await w({redirectTo:"/"})},className:"w-full text-left",children:"Sign Out"})}function z(){var e;let[s,t]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/session");if(e.ok){let s=await e.json();t(s.user)}}catch(e){console.error("Failed to fetch session:",e)}finally{d(!1)}})()},[]),i)?(0,a.jsx)(x.z,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:(0,a.jsx)("div",{className:"w-9 h-9 bg-gray-200 rounded-full animate-pulse"})}):(0,a.jsxs)(p.h_,{children:[(0,a.jsx)(p.$F,{asChild:!0,children:(0,a.jsx)(x.z,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:(0,a.jsx)(h.default,{src:null!==(e=null==s?void 0:s.image)&&void 0!==e?e:"/placeholder-user.jpg",width:36,height:36,alt:"Avatar",className:"overflow-hidden rounded-full"})})}),(0,a.jsxs)(p.AW,{align:"end",children:[(0,a.jsx)(p.Ju,{children:(null==s?void 0:s.name)||"My Account"}),(0,a.jsx)(p.VD,{}),(0,a.jsx)(p.Xi,{children:(0,a.jsx)(n.default,{href:"/admin/settings",className:"w-full",children:"Settings"})}),(0,a.jsx)(p.Xi,{children:(0,a.jsx)(n.default,{href:"/admin/profile",className:"w-full",children:"Profile"})}),(0,a.jsx)(p.VD,{}),s?(0,a.jsx)(p.Xi,{children:(0,a.jsx)(k,{})}):(0,a.jsx)(p.Xi,{children:(0,a.jsx)(n.default,{href:"/login",className:"w-full",children:"Sign In"})})]})]})}var Z=t(4508);let A=r.forwardRef((e,s)=>{let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,Z.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});function C(){return(0,a.jsx)("div",{className:"absolute right-0 top-0 bottom-0 flex items-center justify-center",children:(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}A.displayName="Input";var R=t(3247);function _(){let e=(0,i.useRouter)(),[s,t]=(0,r.useTransition)();return(0,a.jsxs)("form",{action:function(s){let a=new URLSearchParams({q:s.get("q")});t(()=>{e.replace("/?".concat(a.toString()))})},className:"relative ml-auto flex-1 md:grow-0",children:[(0,a.jsx)(R.Z,{className:"absolute left-2.5 top-[.75rem] h-4 w-4 text-muted-foreground"}),(0,a.jsx)(A,{name:"q",type:"search",placeholder:"Search...",className:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-[336px]"}),s&&(0,a.jsx)(C,{})]})}t(9178);var O=t(1677);let S=O.zt;function D(e){let{children:s}=e;return(0,a.jsx)(S,{children:s})}function P(e){let{children:s}=e,t=(0,i.usePathname)();return(0,a.jsx)(D,{children:(0,a.jsxs)("div",{className:"admin-layout min-h-screen flex flex-col",children:[(0,a.jsx)("header",{className:"sticky top-0 z-30 bg-white border-b shadow-sm",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 md:px-6",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(n.default,{href:"/admin",className:"mr-6 flex items-center",children:(0,a.jsx)("span",{className:"text-lg font-bold",children:"Admin Simbarku.co"})})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{className:"md:hidden p-2 rounded-md hover:bg-gray-100",children:(0,a.jsx)(d.Z,{className:"h-5 w-5"})}),(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200"}),children:(0,a.jsx)(z,{})})]})]})}),(0,a.jsxs)("div",{className:"flex flex-1",children:[(0,a.jsx)("aside",{className:"hidden md:block w-64 bg-white border-r shadow-sm",children:(0,a.jsx)("div",{className:"fixed h-[calc(100vh-4rem)] w-64 pt-6 px-4 overflow-y-auto",children:(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"pb-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Dashboard"}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsxs)(n.default,{href:"/admin/analytics",className:"flex items-center px-3 py-2 text-sm rounded-md ".concat("/admin/analytics"===t?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-100"),children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 mr-3 ".concat("/admin/analytics"===t?"text-gray-700":"text-gray-500")}),"Dashboard"]})})]}),(0,a.jsxs)("div",{className:"pb-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Products"}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsxs)(n.default,{href:"/admin",className:"flex items-center px-3 py-2 text-sm rounded-md ".concat("/admin"!==t||t.includes("/admin/orders")?"hover:bg-gray-100":"bg-gray-100 text-gray-900 font-medium"),children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 mr-3 ".concat("/admin"!==t||t.includes("/admin/orders")?"text-gray-500":"text-gray-700")}),"All Products"]})})]}),(0,a.jsxs)("div",{className:"pb-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Orders"}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsxs)(n.default,{href:"/admin/orders",className:"flex items-center px-3 py-2 text-sm rounded-md ".concat(t.includes("/admin/orders")?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-100"),children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 mr-3 ".concat(t.includes("/admin/orders")?"text-gray-700":"text-gray-500")}),"All Orders"]})})]}),(0,a.jsxs)("div",{className:"pb-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Customers"}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsxs)(n.default,{href:"/admin/customers",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"All Customers"]})})]})]})})}),(0,a.jsxs)("aside",{className:"fixed inset-y-0 left-0 z-40 w-64 bg-white border-r transform -translate-x-full transition-transform duration-200 ease-in-out md:hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"Menu"}),(0,a.jsx)("button",{className:"p-2 rounded-md hover:bg-gray-100",children:(0,a.jsx)(u.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"p-4 overflow-y-auto",children:(0,a.jsxs)("nav",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Dashboard"}),(0,a.jsxs)(n.default,{href:"/admin/analytics",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"Dashboard"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Products"}),(0,a.jsxs)(n.default,{href:"/admin",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"All Products"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Orders"}),(0,a.jsxs)(n.default,{href:"/admin/orders",className:"flex items-center px-3 py-2 text-sm rounded-md ".concat(t.includes("/admin/orders")?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-100"),children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 mr-3 ".concat(t.includes("/admin/orders")?"text-gray-700":"text-gray-500")}),"All Orders"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Customers"}),(0,a.jsxs)(n.default,{href:"/admin/customers",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"All Customers"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-2",children:"Analytics"}),(0,a.jsxs)(n.default,{href:"/admin/analytics",className:"flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5 mr-3 text-gray-500"}),"Overview"]})]})]})})]}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:(0,a.jsxs)("div",{className:"container max-w-screen-xl mx-auto p-6 space-y-6",children:[(0,a.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(_,{})})}),s]})})]})]})})}O.fC,O.xz,r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...n}=e;return(0,a.jsx)(O.VY,{ref:s,sideOffset:r,className:(0,Z.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}).displayName=O.VY.displayName},1222:function(e,s,t){"use strict";t.d(s,{z:function(){return o}});var a=t(7437),r=t(2265),n=t(7053),i=t(535),d=t(4508);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:o=!1,...c}=e,m=o?n.g7:"button";return(0,a.jsx)(m,{className:(0,d.cn)(l({variant:r,size:i,className:t})),ref:s,...c})});o.displayName="Button"},1240:function(e,s,t){"use strict";t.d(s,{$F:function(){return m},AW:function(){return u},Ju:function(){return x},VD:function(){return h},Xi:function(){return f},h_:function(){return c}});var a=t(7437),r=t(2265),n=t(8868),i=t(407),d=t(401),l=t(519),o=t(4508);let c=n.fC,m=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,r.forwardRef((e,s)=>{let{className:t,inset:r,children:d,...l}=e;return(0,a.jsxs)(n.fF,{ref:s,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...l,children:[d,(0,a.jsx)(i.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=n.fF.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.tu,{ref:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=n.tu.displayName;let u=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...i}=e;return(0,a.jsx)(n.Uv,{children:(0,a.jsx)(n.VY,{ref:s,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});u.displayName=n.VY.displayName;let f=r.forwardRef((e,s)=>{let{className:t,inset:r,...i}=e;return(0,a.jsx)(n.ck,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...i})});f.displayName=n.ck.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,checked:i,...l}=e;return(0,a.jsxs)(n.oC,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:i,...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})})}),r]})}).displayName=n.oC.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(n.Rk,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(l.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=n.Rk.displayName;let x=r.forwardRef((e,s)=>{let{className:t,inset:r,...i}=e;return(0,a.jsx)(n.__,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...i})});x.displayName=n.__.displayName;let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...r})});h.displayName=n.Z0.displayName},4508:function(e,s,t){"use strict";t.d(s,{T:function(){return i},cn:function(){return n}});var a=t(1994),r=t(3335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}function i(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}},9178:function(){}},function(e){e.O(0,[698,785,137,972,859,13,500,274,93,971,117,744],function(){return e(e.s=5170)}),_N_E=e.O()}]);