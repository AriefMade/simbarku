(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5465:function(e,t,a){Promise.resolve().then(a.bind(a,8605))},8605:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var s,r,n,l,o,i=a(7437),c=a(2265),d=a.t(c,2),u=a(6280);class h extends u.l4{}async function x(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r="".concat(b(t),"/").concat(e);try{var n;let e={headers:{"Content-Type":"application/json",...(null==s?void 0:null===(n=s.headers)||void 0===n?void 0:n.cookie)?{cookie:s.headers.cookie}:{}}};(null==s?void 0:s.body)&&(e.body=JSON.stringify(s.body),e.method="POST");let t=await fetch(r,e),a=await t.json();if(!t.ok)throw a;return a}catch(e){return a.error(new h(e.message,e)),null}}function b(e){return"undefined"==typeof window?"".concat(e.baseUrlServer).concat(e.basePathServer):e.basePath}function p(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e="https://".concat(e));let a=new URL(e||t),s=("/"===a.pathname?t.pathname:a.pathname).replace(/\/$/,""),r="".concat(a.origin).concat(s);return{origin:a.origin,host:a.host,path:s,base:r,toString:()=>r}}var m=a(257);let g={baseUrl:p(null!==(r=m.env.NEXTAUTH_URL)&&void 0!==r?r:m.env.VERCEL_URL).origin,basePath:p(m.env.NEXTAUTH_URL).path,baseUrlServer:p(null!==(l=null!==(n=m.env.NEXTAUTH_URL_INTERNAL)&&void 0!==n?n:m.env.NEXTAUTH_URL)&&void 0!==l?l:m.env.VERCEL_URL).origin,basePathServer:p(null!==(o=m.env.NEXTAUTH_URL_INTERNAL)&&void 0!==o?o:m.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},v={debug:console.debug,error:console.error,warn:console.warn};async function f(){var e;let t=await x("csrf",g,v);return null!==(e=null==t?void 0:t.csrfToken)&&void 0!==e?e:""}async function w(){return x("providers",g,v)}async function N(e,t,a){var s,r,n;let{redirect:l=!0}=null!=t?t:{},o=null!==(r=null!==(s=null==t?void 0:t.redirectTo)&&void 0!==s?s:null==t?void 0:t.callbackUrl)&&void 0!==r?r:window.location.href,i=b(g),c=await w();if(!c){window.location.href="".concat(i,"/error");return}if(!e||!(e in c)){window.location.href="".concat(i,"/signin?").concat(new URLSearchParams({callbackUrl:o}));return}let d="credentials"===c[e].type,u="email"===c[e].type,h="".concat(i,"/").concat(d?"callback":"signin","/").concat(e),x=await f(),p=await fetch("".concat(h,"?").concat(new URLSearchParams(a)),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...t,csrfToken:x,callbackUrl:o})}),m=await p.json();if(l||!(d||u)){let e=null!==(n=m.url)&&void 0!==n?n:o;window.location.href=e,e.includes("#")&&window.location.reload();return}let v=new URL(m.url).searchParams.get("error"),N=new URL(m.url).searchParams.get("code");return p.ok&&await g._getSession({event:"storage"}),{error:v,code:N,status:p.status,ok:p.ok,url:v?null:m.url}}null===(s=c.createContext)||void 0===s||s.call(d,void 0);var j=a(9376);function U(){let e=(0,j.useRouter)(),t=(0,j.useSearchParams)().get("callbackUrl")||"/admin",[a,s]=(0,c.useState)(""),[r,n]=(0,c.useState)(""),[l,o]=(0,c.useState)(""),[d,u]=(0,c.useState)(!1),h=async s=>{s.preventDefault(),u(!0),o("");try{let s=await N("credentials",{username:a,password:r,redirect:!1});if(null==s?void 0:s.error){o("Username atau password salah"),u(!1);return}e.push(t),e.refresh()}catch(e){console.error("Login error:",e),o("Terjadi kesalahan saat login"),u(!1)}};return(0,i.jsxs)("div",{className:"w-full min-h-screen relative bg-green-900 overflow-hidden flex",children:[(0,i.jsx)("div",{className:"w-[60%] min-h-screen bg-white relative flex items-center justify-center",children:(0,i.jsxs)("div",{className:"w-full max-w-[500px] px-12",children:[(0,i.jsx)("div",{className:"text-center mb-12",children:(0,i.jsx)("h1",{className:"text-black text-4xl font-bold",children:"SIMBARKU.CO"})}),(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("div",{className:"text-black/50 text-base font-normal leading-snug tracking-wide mb-2",children:"Hello, Admin!"}),(0,i.jsx)("h2",{className:"text-black text-6xl font-bold",children:"Sign In"})]}),l&&(0,i.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,i.jsx)("div",{className:"text-red-700",children:l})}),(0,i.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"username",className:"block text-black text-base font-light mb-2",children:"Username"}),(0,i.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:a,onChange:e=>s(e.target.value),className:"w-full h-11 px-4 rounded-xl border border-blue-600 text-black text-sm font-normal focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,i.jsx)("label",{htmlFor:"password",className:"text-black text-base font-light",children:"Password"})}),(0,i.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:e=>n(e.target.value),className:"w-full h-11 px-4 rounded-xl border border-blue-600 text-black text-sm font-normal focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsx)("div",{className:"pt-6",children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("button",{type:"submit",disabled:d,className:"w-36 h-11 bg-blue-600 rounded-3xl flex items-center justify-center text-white text-base font-semibold capitalize hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:d?"Loading...":"sign In"})})})]})]})}),(0,i.jsx)("div",{className:"w-[40%] min-h-screen bg-green-900 relative overflow-hidden",children:(0,i.jsx)("div",{className:"absolute inset-0",children:(0,i.jsxs)("div",{className:"w-full h-full relative",children:[(0,i.jsx)("div",{className:"w-[464px] h-[736px] absolute right-[100px] top-[50px] bg-white"}),(0,i.jsx)("div",{className:"w-14 h-14 absolute right-[200px] top-[400px] bg-blue-600 rotate-[26deg]"}),(0,i.jsx)("div",{className:"w-24 h-24 absolute right-[220px] top-[320px] bg-red-400 rounded-[50px] rotate-[11deg]"}),(0,i.jsx)("div",{className:"w-32 h-64 absolute right-[150px] top-[300px] bg-zinc-800"}),(0,i.jsx)("div",{className:"w-20 h-52 absolute right-[200px] top-[200px] bg-red-400"}),(0,i.jsx)("div",{className:"w-16 h-52 absolute right-[120px] top-[180px] bg-red-400"}),(0,i.jsx)("div",{className:"w-16 h-20 absolute right-[160px] top-[120px] bg-orange-200"}),(0,i.jsx)("div",{className:"w-12 h-20 absolute right-[100px] top-[280px] bg-orange-200"}),(0,i.jsx)("div",{className:"w-24 h-[2px] absolute right-[180px] top-[150px] bg-orange-200"}),(0,i.jsx)("div",{className:"w-24 h-[2px] absolute right-[140px] top-[220px] bg-orange-200"}),(0,i.jsx)("div",{className:"w-24 h-[2px] absolute right-[200px] top-[350px] bg-orange-200"}),(0,i.jsx)("div",{className:"w-24 h-[2px] absolute right-[160px] top-[450px] bg-orange-200"}),(0,i.jsx)("div",{className:"w-[2px] h-14 absolute right-[170px] top-[140px] bg-orange-200"}),(0,i.jsx)("div",{className:"w-[2px] h-14 absolute right-[130px] top-[210px] bg-orange-200"}),(0,i.jsx)("div",{className:"w-[2px] h-14 absolute right-[190px] top-[340px] bg-orange-200"}),(0,i.jsxs)("div",{className:"absolute right-[50px] bottom-[100px] w-[150px] h-[300px]",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gray-800 rounded-full absolute top-0 left-[50%] transform -translate-x-1/2"}),(0,i.jsx)("div",{className:"w-16 h-32 bg-red-400 rounded-lg absolute top-12 left-[50%] transform -translate-x-1/2"}),(0,i.jsx)("div",{className:"w-14 h-40 bg-gray-900 absolute top-44 left-[50%] transform -translate-x-1/2"})]}),(0,i.jsx)("div",{className:"w-44 h-20 absolute right-[80px] bottom-[200px] bg-zinc-800 rotate-[11deg]"}),(0,i.jsx)("div",{className:"w-36 h-20 absolute right-[90px] bottom-[180px] bg-teal-400 rotate-1"})]})})})]})}},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"redirect")&&a.d(t,{redirect:function(){return s.redirect}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[274,971,117,744],function(){return e(e.s=5465)}),_N_E=e.O()}]);